<div class="schedule-show">
  <div class="schedule-header">
    <h1>Training Session Details</h1>
    <div class="actions">
      <%= link_to schedules_path, class: "btn btn-secondary" do %>
        ← Back to Calendar
      <% end %>
      <% if can? :update, @schedule %>
        <%= link_to edit_schedule_path(@schedule), class: "btn btn-primary" do %>
          ✏️ Edit
        <% end %>
      <% end %>
      <% if can? :destroy, @schedule %>
        <%= button_to schedule_path(@schedule), 
            method: :delete, 
            data: { confirm: "Are you sure you want to delete this schedule?" },
            class: "btn btn-danger" do %>
          🗑️ Delete
        <% end %>
      <% end %>
    </div>
  </div>

  <div class="schedule-card">
    <div class="status-badge status-<%= @schedule.status %>">
      <%= @schedule.status.titleize %>
    </div>

    <div class="schedule-details">
      <div class="detail-row">
        <div class="detail-label">👤 Trainer</div>
        <div class="detail-value"><%= @schedule.trainer.name %></div>
      </div>

      <div class="detail-row">
        <div class="detail-label">🏃 Member</div>
        <div class="detail-value"><%= @schedule.user.name %></div>
      </div>

      <div class="detail-row">
        <div class="detail-label">📅 Date</div>
        <div class="detail-value"><%= @schedule.starts_at.strftime("%A, %B %d, %Y") %></div>
      </div>

      <div class="detail-row">
        <div class="detail-label">⏰ Time</div>
        <div class="detail-value">
          <%= @schedule.starts_at.strftime("%I:%M %p") %> - 
          <%= @schedule.ends_at.strftime("%I:%M %p") %>
          <span class="duration">
            (<%= (((@schedule.ends_at - @schedule.starts_at) / 60).to_i) %> minutes)
          </span>
        </div>
      </div>

      <% if @schedule.location.present? %>
        <div class="detail-row">
          <div class="detail-label">📍 Location</div>
          <div class="detail-value"><%= @schedule.location %></div>
        </div>
      <% end %>

      <% if @schedule.price_cents.present? %>
        <div class="detail-row">
          <div class="detail-label">💰 Price</div>
          <div class="detail-value">$<%= sprintf("%.2f", @schedule.price_cents / 100.0) %></div>
        </div>
      <% end %>

      <% if @schedule.notes.present? %>
        <div class="detail-row full-width">
          <div class="detail-label">📝 Notes</div>
          <div class="detail-value"><%= simple_format(@schedule.notes) %></div>
        </div>
      <% end %>

      <div class="detail-row metadata">
        <div class="detail-label">Created</div>
        <div class="detail-value"><%= @schedule.created_at.strftime("%B %d, %Y at %I:%M %p") %></div>
      </div>

      <% if @schedule.updated_at != @schedule.created_at %>
        <div class="detail-row metadata">
          <div class="detail-label">Last Updated</div>
          <div class="detail-value"><%= @schedule.updated_at.strftime("%B %d, %Y at %I:%M %p") %></div>
        </div>
      <% end %>
    </div>
  </div>
</div>

<style>
  .schedule-show { padding: 20px; max-width: 800px; margin: 0 auto; }
  .schedule-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px; }
  .schedule-header h1 { margin: 0; }
  .actions { display: flex; gap: 10px; }
  .btn { padding: 10px 20px; border-radius: 4px; text-decoration: none; display: inline-block; border: none; cursor: pointer; font-size: 14px; }
  .btn-secondary { background: #6c757d; color: white; }
  .btn-primary { background: #007bff; color: white; }
  .btn-danger { background: #dc3545; color: white; }
  .btn:hover { opacity: 0.9; }
  .schedule-card { background: white; border: 1px solid #ddd; border-radius: 8px; padding: 30px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
  .status-badge { display: inline-block; padding: 6px 12px; border-radius: 4px; font-weight: bold; font-size: 12px; text-transform: uppercase; margin-bottom: 20px; }
  .status-pending { background: #fff3cd; color: #856404; }
  .status-confirmed { background: #d4edda; color: #155724; }
  .status-cancelled { background: #f8d7da; color: #721c24; }
  .status-completed { background: #d6d8db; color: #383d41; }
  .schedule-details { display: grid; gap: 15px; }
  .detail-row { display: grid; grid-template-columns: 150px 1fr; gap: 15px; padding: 10px 0; border-bottom: 1px solid #eee; }
  .detail-row.full-width { grid-template-columns: 150px 1fr; }
  .detail-row.metadata { opacity: 0.7; font-size: 12px; }
  .detail-label { font-weight: bold; color: #495057; }
  .detail-value { color: #212529; }
  .duration { color: #6c757d; font-size: 14px; }
</style>
